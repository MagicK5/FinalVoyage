### 1)项目设计部分

#### （1）项目总体构成

实现了用户的基本注册，登录，登出及管理功能；

实现了搜索功能，模糊关键字可搜索电影名字及电影类别下的电影；

用户可以对电影进行评论及个人中心资料的修改（用户头像功能未实现）；

电影添加分类及录入；

对电影数据作分页处理，分页查询数据库数据；

管理员可以对网站数据进行增加删除修改（需要管理员权限）；

管理员可从后台查看所有的电影、用户、评论、访问量等数据；

普通用户可以查看电影列表，发表评论；

#### （2）引入的包在项目中的作用相关说明

mongodb:存储数据；

express：提供web应用框架，定义路由表响应不同请求；

jade：转化、渲染网页；

mongoose：提供scheme定义数据模型；

body-parser：解析http请求以获取用户名、密码等内容；

bower：安装前端框架如bootstrap；

#### (3)项目目录结构和各个部分的说明

├── app.js              项目入口文件
├── routs               路由总目录
│   ├── admin           后台管理
│   │   ├── xxx.js
│   │   └── ...
│   ├── middleware      权限中间限
│   │   ├── xxx.js
│   │   └── ...
│   ├── status          状态页面
│   │   ├── xxx.js
│   │   └── ...
│   └── user            用户相关
│       ├── xxx.js
│       └── ...
├── node_modules        node模块目录
├── public              静态文件目录
│   ├── images          图片目录
│   ├── libs            bower安装目录
│   │   ├── bootstrap
│   │   └── jquery
│   ├── js              jade模板交互js
│   │   ├── xxx.js
│   │   └── ...
│   └── uploads         用户上传的图片目录
│       ├── xxx.jpeg
│       └── ...
├── models              模型
│   ├── xxx.js
│   └── ...
├── schemas             模式
│   ├── xxx.js
│   └── ...
├── views               视图文件目录
│   ├── includes
│   │   ├── xxx.jade
│   │   └── ...
│   └── pages
│       ├── xxx.jade
│       └── ...
├── README.md
├── .bowerrc            
├── .gitignore          
├── .jshintrc           
├── bower.json  
├── gulpfile.js         gulp文件
└── package.json

### 2）使用说明书

登陆、注册、注销：略；

管理员登陆：账号111，密码111（也可以自行修改数据库中的role值大于10）；

注册、登陆完成后在3s内会返回首页（借鉴github上的node-todo-app）；

用户信息修改：点击用户名超链接，即可修改；

评论：在电影界面点击评论，输入评论

管理员：

电影列表：修改电影信息、删除该电影条目；

电影录入：录入电影信息（封面图片部分未完成，上映年份为纯数字）；

电影分类：修改分类名称，删除分类；

新增分类：录入新的分类名称；

用户列表：删除用户；

### 3）开发日记

2021.12.20:创建项目，配置环境，设计登陆注册页面；

2021.12.23：修改了初始界面，mongodb的连接方案；

2021.12.27：导入jade包，修改页面方案；

2021.12.28：设置数据模型，页面重新设计；

2021.12.29：设置路由；

2021.12.30：修改部分bug，初步完成结果；

2021.12.31：修改bug；







